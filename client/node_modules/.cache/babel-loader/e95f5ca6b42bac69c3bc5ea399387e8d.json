{"ast":null,"code":"var _jsxFileName = \"/home/sai/Desktop/DiscussIt/client/src/components/ResultsDropdown.jsx\";\nimport React from 'react';\nimport { Avatar, useChatContext } from 'stream-chat-react';\n\nconst channelByUser = async _ref => {\n  let {\n    client,\n    setActiveChannel,\n    channel,\n    setChannel\n  } = _ref;\n  const filters = {\n    type: 'messaging',\n    member_count: 2,\n    members: {\n      $eq: [client.user.id, client.userID]\n    }\n  };\n  const [existingChannel] = await client.queryChannels(filters);\n  if (existingChannel) return setActiveChannel(existingChannel);\n  const newChannel = client.channel('messaging', {\n    members: [channel.id, client.userID]\n  });\n  setChannel(newChannel);\n  return setActiveChannel(newChannel);\n};\n\nconst SearchResult = _ref2 => {\n  let {\n    channel,\n    focusedId,\n    type,\n    setChannel,\n    setToggleContainer\n  } = _ref2;\n  const {\n    client,\n    setActiveChannel\n  } = useChatContext();\n\n  if (type === 'channel') {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      onClick: () => {\n        setChannel(channel);\n\n        if (setToggleContainer) {\n          setToggleContainer(prevState => !prevState);\n        }\n      },\n      className: focusedId === channel.id ? 'channel-search__result-container__focused' : 'channel-search__result-container',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"result-hashtag\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }\n    }, \"#\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"channel-search__result-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }\n    }, channel.data.name));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    onClick: async () => {\n      channelByUser({\n        client,\n        setActiveChannel,\n        channel,\n        setChannel\n      });\n\n      if (setToggleContainer) {\n        setToggleContainer(prevState => !prevState);\n      }\n    },\n    className: focusedId === channel.id ? 'channel-search__result-container__focused' : 'channel-search__result-container',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"channel-search__result-user\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    image: channel.image || undefined,\n    name: channel.name,\n    size: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"channel-search__result-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, channel.name)));\n};\n\nconst ResultsDropdown = _ref3 => {\n  let {\n    teamChannels,\n    directChannels,\n    focusedId,\n    loading,\n    setChannel,\n    setToggleContainer\n  } = _ref3;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"channel-search__results\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"channel-search__results-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, \"Channels\"), loading && !teamChannels.length && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"channel-search__results-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, \"Loading...\")), !loading && !teamChannels.length ? /*#__PURE__*/React.createElement(\"p\", {\n    className: \"channel-search__results-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, \"No channels found\")) : teamChannels === null || teamChannels === void 0 ? void 0 : teamChannels.map((channel, i) => /*#__PURE__*/React.createElement(SearchResult, {\n    channel: channel,\n    focusedId: focusedId,\n    key: i,\n    setChannel: setChannel,\n    type: \"channel\",\n    setToggleContainer: setToggleContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"channel-search__results-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, \"Users\"), loading && !directChannels.length && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"channel-search__results-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, \"Loading...\")), !loading && !directChannels.length ? /*#__PURE__*/React.createElement(\"p\", {\n    className: \"channel-search__res ults-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }, \"No direct messages found\")) : directChannels === null || directChannels === void 0 ? void 0 : directChannels.map((channel, i) => /*#__PURE__*/React.createElement(SearchResult, {\n    channel: channel,\n    focusedId: focusedId,\n    key: i,\n    setChannel: setChannel,\n    type: \"user\",\n    setToggleContainer: setToggleContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  })));\n};\n\nexport default ResultsDropdown;","map":{"version":3,"sources":["/home/sai/Desktop/DiscussIt/client/src/components/ResultsDropdown.jsx"],"names":["React","Avatar","useChatContext","channelByUser","client","setActiveChannel","channel","setChannel","filters","type","member_count","members","$eq","user","id","userID","existingChannel","queryChannels","newChannel","SearchResult","focusedId","setToggleContainer","prevState","data","name","image","undefined","ResultsDropdown","teamChannels","directChannels","loading","length","map","i"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Avatar, useChatContext } from 'stream-chat-react';\n\nconst channelByUser = async ({ client, setActiveChannel, channel, setChannel }) => {\n  const filters = {\n    type: 'messaging',\n    member_count: 2,\n    members: { $eq: [client.user.id, client.userID] },\n  };\n\n  const [existingChannel] = await client.queryChannels(filters);\n\n  if (existingChannel) return setActiveChannel(existingChannel);\n\n  const newChannel = client.channel('messaging', { members: [channel.id, client.userID] });\n  \n  setChannel(newChannel)\n\n  return setActiveChannel(newChannel);\n};\n\nconst SearchResult = ({ channel, focusedId, type, setChannel, setToggleContainer }) => {\n  const { client, setActiveChannel } = useChatContext();\n\n  if (type === 'channel') {\n    return (\n      <div\n        onClick={() => {\n          setChannel(channel)\n          if(setToggleContainer) {\n            setToggleContainer((prevState) => !prevState)   \n          }\n        }}\n        className={focusedId === channel.id ? 'channel-search__result-container__focused' : 'channel-search__result-container' }\n      >\n        <div className='result-hashtag'>#</div>\n        <p className='channel-search__result-text'>{channel.data.name}</p>\n      </div>\n    );\n  }\n\n  return (\n    <div\n      onClick={async () => {\n        channelByUser({ client, setActiveChannel, channel, setChannel })\n        if(setToggleContainer) {\n            setToggleContainer((prevState) => !prevState)   \n        }\n      }}\n      className={focusedId === channel.id ? 'channel-search__result-container__focused' : 'channel-search__result-container' }\n    >\n      <div className='channel-search__result-user'>\n        <Avatar image={channel.image || undefined} name={channel.name} size={24} />\n        <p className='channel-search__result-text'>{channel.name}</p>\n      </div>\n    </div>\n  );\n};\n\nconst ResultsDropdown = ({ teamChannels, directChannels, focusedId, loading, setChannel, setToggleContainer }) => {\n\n  return (\n    <div className='channel-search__results'>\n      <p className='channel-search__results-header'>Channels</p>\n      {loading && !teamChannels.length && (\n        <p className='channel-search__results-header'>\n          <i>Loading...</i>\n        </p>\n      )}\n      {!loading && !teamChannels.length ? (\n        <p className='channel-search__results-header'>\n          <i>No channels found</i>\n        </p>\n      ) : (\n        teamChannels?.map((channel, i) => (\n          <SearchResult\n            channel={channel}\n            focusedId={focusedId}\n            key={i}\n            setChannel={setChannel}\n            type='channel'\n            setToggleContainer={setToggleContainer}\n          />\n        ))\n      )}\n      <p className='channel-search__results-header'>Users</p>\n      {loading && !directChannels.length && (\n        <p className='channel-search__results-header'>\n          <i>Loading...</i>\n        </p>\n      )}\n      {!loading && !directChannels.length ? (\n        <p className='channel-search__res ults-header'>\n          <i>No direct messages found</i>\n        </p>\n      ) : (\n        directChannels?.map((channel, i) => (\n          <SearchResult\n            channel={channel}\n            focusedId={focusedId}\n            key={i}\n            setChannel={setChannel}\n            type='user'\n            setToggleContainer={setToggleContainer}\n          />\n        ))\n      )}\n    </div>\n  );\n};\n\nexport default ResultsDropdown;"]},"metadata":{},"sourceType":"module"}